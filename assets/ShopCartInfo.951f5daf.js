import{i as n,p as m,r as f,o as d,c as i,b as a,d as b,m as h,k as v,g as x,q as _}from"./index.ddd01c4b.js";import{_ as g}from"./ShopCheckoutStep.6adfa2d9.js";const w={class:"container mx-auto my-8"},y={class:"flex justify-center"},k={class:"flex gap-4 justify-center flex-row-reverse my-8"},q={class:"min-w-[300px]"},$=a("h2",{class:"text-2xl"},"\u8A02\u55AE\u7D30\u7BC0",-1),C={key:0},N=a("p",{class:"py-8"},"\u8CFC\u7269\u8ECA\u5167\u5C1A\u7121\u5546\u54C1",-1),V=_('<h2 class="text-2xl">\u8A02\u8CFC\u4EBA\u8CC7\u8A0A</h2><div class="form-control w-full"><label for="email" class="label"><span class="label-text">E-mail</span></label><input id="email" name="email" type="email" class="input input-bordered w-full" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u96FB\u5B50\u4FE1\u7BB1\u2026\u2026" required></div><div class="form-control w-full"><label for="name" class="label"><span class="label-text">\u59D3\u540D</span></label><input id="name" name="name" type="text" class="input input-bordered w-full" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u59D3\u540D\u2026\u2026" required></div><div class="form-control w-full"><label for="tel" class="label"><span class="label-text">\u96FB\u8A71</span></label><input id="tel" name="tel" type="tel" class="input input-bordered w-full" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u96FB\u8A71\u2026\u2026" required></div><div class="form-control w-full"><label for="address" class="label"><span class="label-text">\u5730\u5740</span></label><input id="address" name="address" type="text" class="input input-bordered w-full" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u5730\u5740\u2026\u2026" required></div><div class="form-control w-full"><label for="message" class="label"><span class="label-text">\u9644\u8A3B</span></label><textarea id="message" name="message" class="textarea input-bordered" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u9644\u8A3B\u2026\u2026"></textarea></div>',6),j=["disabled"],E={__name:"ShopCartInfo",setup(B){const o=n("axiosWithAuth"),c=n("$loading"),l=m(),r=f([]);function u(s){o({method:"post",url:"/order",data:{...s}}).then(e=>{if(!e.success){l.push({name:"products"});return}l.push({path:`checkout/${e.data.orderId}`})})}function p(){const s=c.show();o({method:"get",url:"/cart"}).then(e=>{r.value=e.data.data.carts}).finally(()=>{s.hide()})}return p(),(s,e)=>(d(),i("div",w,[a("div",y,[b(g,{"current-step":"2"})]),a("div",k,[a("div",q,[$,r.value.length===0?(d(),i("div",C,[N,a("button",{class:"btn btn-outline hover:btn-success btn-block",onClick:e[0]||(e[0]=t=>h(l).push({name:"products"}))}," \u53BB\u63A1\u8CFC ")])):v("",!0)]),a("form",{class:"flex flex-col max-w-lg w-full",onSubmit:e[1]||(e[1]=x(t=>{u({data:{user:{name:t.target.name.value,email:t.target.email.value,tel:t.target.tel.value,address:t.target.address.value},message:t.target.message.value}})},["prevent"]))},[V,a("button",{disabled:r.value.length===0,class:"btn btn-outline",type:"submit"},"\u78BA\u8A8D\u4ED8\u6B3E\u53BB",8,j)],32)])]))}};export{E as default};
